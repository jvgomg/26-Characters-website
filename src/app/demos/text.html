<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>26 Characters</title>
        <meta name="description" content="2013 Graduate Show from Ravensbourne BA (Hons) Graphic Design">
        <meta name="viewport" content="width=device-width">

        <link rel="stylesheet" href="http://fast.fonts.com/cssapi/97d6e564-108a-49d5-ae09-3f7a6b8f8fe3.css"/>
        <link rel="stylesheet" href="/styles/main.css">
        <link rel="stylesheet" href="/styles/demos.css">

        <!-- build:js scripts/vendor/modernizr.js -->
        <script src="/scripts/vendor/modernizr.custom.js"></script>
        <!-- endbuild -->

        <script type="text/javascript" src="http://fast.fonts.com/jsapi/fa64d511-c3b1-498d-a107-9ae847912550.js"></script>

        <script>
            Modernizr.load({
                test: Modernizr.cssremunit,
                nope: '/scripts/vendor/rem.min.js'
            });
        </script>

    </head>
    <body>

        <section id="text">

            <ul>
                <li class="one">
                    <p>26 Characters</p>
                </li>
                <li class="two">
                    <p>James Greenaway</p>
                </li>
                <li class="three">
                    <p>Maecenas faucibus mollis interdum. Donec ullamcorper nulla non metus auctor fringilla. Curabitur blandit tempus porttitor.</p>
                </li>

            </ul>

        </section>

        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

        <script src="/components/jquery/jquery.js"></script>
        <script src="/scripts/vendor/lettering-js/jquery.lettering.js"></script>

        <script>

            function shuffleArray(array) {
                for (var i = array.length - 1; i > 0; i--) {
                    var j = Math.floor(Math.random() * (i + 1));
                    var temp = array[i];
                    array[i] = array[j];
                    array[j] = temp;
                }
                return array;
            }

            function range(start, end) {
                var foo = [];
                for (var i = start; i <= end; i++) {
                    foo.push(i);
                }
                return foo;
            }

            function updateClass( i, $spans, mix, myClass,  myTimer) {

                //console.log( mix );

                $( $spans.get( mix[i] ) ).addClass( myClass );

                if( i > $spans.length ) {
                    clearInterval(myTimer);
                }
            }


            $().ready(function($){

                // Apply Lettering
                $("li p").lettering();

                /*
                    26 Characters
                 */
                (function(){
                    var $title = $('.one p');

                    // Count all characters
                    var $spans = $title.find('span');

                    console.log( $title );
                    console.log( $spans );


                    // Create randomised array of character numbers
                    var mix = shuffleArray(range(0, $spans.length));

                    // Timeout loop for all chars
                    var i = 0;
                    var timer = setInterval( function(){
                        updateClass( i++, $spans, mix, 'font8', timer );
                    }, 50);
                })();


                /*
                    My Name
                 */
                (function(){
                    var $name = $('.two p');
                    var $spans = $name.find('span');

                    var mix = shuffleArray(range(0, $spans.length));

                    var i = 0;
                    var nameTimer = setInterval( function(){
                        updateClass( i++, $spans, mix, 'font6', nameTimer );
                    }, 50);
                })();


                /*
                    Paragraph
                 */
                (function(){
                    var $para = $('.three p');

                    var $spans = $para.find('span');
                    console.log($spans);

                    var mix = shuffleArray(range(0, $spans.length));
                    console.log(mix);

                    var i = 0;
                    var anotherTimer = setInterval( function(){
                        updateClass( i++, $spans, mix, 'font10', anotherTimer );
                    }, 25);
                })();


            });

        </script>


        <script>
            var _gaq=[['_setAccount','UA-40905482-1'],['_trackPageview']];
            (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
            g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
            s.parentNode.insertBefore(g,s)}(document,'script'));
        </script>

</body>
</html>
